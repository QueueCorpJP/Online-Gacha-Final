âœ… ä¿®æ­£ã‚¹ãƒ†ãƒƒãƒ—ï¼š
â‘  prize.entity.ts ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª
bash
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
ls src/entities/prize.entity.ts
ã‚‚ã—ãƒ•ã‚¡ã‚¤ãƒ«ãŒãªã„ãªã‚‰ã€ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

â‘¡ Prize ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’ User ã«é©åˆ‡ã« import ã—ã¦ã„ã‚‹ã‹ç¢ºèª
ts
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
// user.entity.ts
import { Prize } from './prize.entity'; // ç›¸å¯¾ãƒ‘ã‚¹æ³¨æ„
â‘¢ AppDataSourceï¼ˆã¾ãŸã¯ TypeOrmModule.forRoot({...})ï¼‰ ã« Prize ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹
ts
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
TypeOrmModule.forRoot({
  // ...
  entities: [User, Prize, ...],
})
ã¾ãŸã¯ entities: [__dirname + '/**/*.entity{.ts,.js}'] ã®ã‚ˆã†ã«ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã§ã‚«ãƒãƒ¼ã—ã¦ã„ã‚‹ã‹ã€‚

â‘£ Prize ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«é€†å´ã®ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚ã‚‹ã‹ã‚‚ç¢ºèª
ts
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
// prize.entity.ts
@ManyToOne(() => User, user => user.prizes)
user: User;
ğŸ§ª ã‚‚ã—ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãŒå¤šã„ãªã‚‰ï¼š
ãƒ«ãƒ¼ãƒˆã§ä»¥ä¸‹ã‚’ä½¿ã£ã¦ã€TypeORM ãŒèª­ã¿å–ã£ã¦ã„ã‚‹ .entity.ts ã®ä¸€è¦§ã‚’æ´—ã„å‡ºã›ã¾ã™ï¼š

bash
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
grep -r '@Entity' src/entities
å¯¾å¿œå¾Œã€ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•ï¼š

bash
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
pm2 restart gacha-backend
